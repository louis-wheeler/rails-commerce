<div class="user-detail-page">
    <%= render 'layouts/navbar' %>
    
    <div class="user-detail-content">
        <h2>User: <%= @user.username %></h2>
        <p>
            <strong>Email:</strong>
            <%= @user.email %>
        </p>
        
        <% if logged_in? && (current_user.isAdmin || (current_user.username == @user.username)) %>
            <%= link_to 'Edit', edit_user_path(@user), class: 'btn btn-primary' %>
            
            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#delete-modal">
                    Delete
            </button>
            <div id="delete-modal" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">
                                <span class="fa fa-close"/>
                            </button>
                            <h4 class="modal-title">Delete</h4>
                        </div>
                        <div class="modal-body">
                            <p>Are you sure you want to delete this user? (<%= @user.username %>)</p>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">
                                <span class="fa fa-close"/> Cancel
                            </button>
                            <%= link_to raw('<div class="btn btn-danger"><span class="fa fa-trash"/> Delete</div>'), user_path(@user), method: :delete %>
                        </div>
                    </div>
                </div>
            </div>
        <% end %>
    </div>
</div>